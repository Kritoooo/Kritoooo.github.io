---
title: 群晖虚拟机安装
date: 2024-3-15 13:31:14
tags: Linux,NAS
---

# 群晖虚拟机安装

## 虚拟机安装

首先在群晖套件中心下载Virtual Machine Manager

![image-20240228202835895](/pic/image-20240228202835895.png)

然后下载你需要安装的系统镜像。博主这里需要学习linux的一些常见知识，所以打算安装Centos7和ubuntu20这两个系统。

Centos7:[centos-7.9.2009-isos-x86_64安装包下载_开源镜像站-阿里云 (aliyun.com)](https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/)

Ubuntu20.04:[ubuntu-releases-20.04安装包下载_开源镜像站-阿里云 (aliyun.com)](https://mirrors.aliyun.com/ubuntu-releases/20.04/?spm=a2c6h.25603864.0.0.4e6b4ddafVxC0M)

下载完镜像后，上传到群晖中。

打开Virtual Machine Manager，然后点击新增。

![image-20240228210909220](/pic/image-20240228210909220.png)

经过一系列配置后，将启动ISO文件选择为我们上传的系统镜像即可。

![image-20240228211013978](/pic/image-20240228211013978.png)

最后启动虚拟机，进行centos系统的安装与配置即可。

## ssh连接

在同一个局域网内，我们使用另外一台电脑对群晖系统上的虚拟机进行连接。

首先，我们需要在虚拟机内安装ssh（如果没有）。

```bash
sudo apt install openssh-server
```

然后我们开启默认端口号

```bash
vi /etc/ssh/sshd_config
```

将我框出的语句的#删掉即可，然后保存并退出。

![image-20240301215914743](/pic/image-20240301215914743.png)

最后重启SSH服务

```bash
(ubuntu) sudo service ssh restart
(centos7) service sshd restart
```

输入命令，查看是否成功启动。

```bash
systemctl status sshd.service
```

![image-20240301220247107](/pic/image-20240301220247107.png)

最后，我们使用本地ssh连接群晖上的虚拟机。

```bash
ssh 用户名@虚拟机ip地址
```

![image-20240301220656918](/pic/image-20240301220656918.png)

输入密码后即可成功连接。此方式需要虚拟机网络接口与群晖宿主机相同。

![image-20240301220755647](/pic/image-20240301220755647.png)

